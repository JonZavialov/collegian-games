[build]
  command = "npm run build"
  publish = "dist"
  functions = "netlify/functions"  # Tell Netlify where the function lives

# 1. RSS Proxy -> Points to our Caching Function
[[redirects]]
  from = "/rss"
  to = "/.netlify/functions/rss"   # The internal path to the function
  status = 200
  force = true

# 2. Archive Proxy (Keep this as is, usually PDFs are less rate-limited)
[[redirects]]
  from = "/archive/*"
  to = "https://panewsarchive.psu.edu/:splat"
  status = 200
  force = true

# 3. SPA Fallback
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200